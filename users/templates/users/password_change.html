{% extends 'users/auth.html' %}
{% load static %}

{% block content %}
    <link rel="stylesheet" href="{% static 'css/users/password_change.css' %}">

    <div class="password-change-container">
        <img src="{% static 'images/myvideochat-logo.png' %}" alt="ShareBooks Logo" class="logo">

        <h2 class="change-title">Change Password</h2>

        <form id="password-change-form" method="POST">
            {% csrf_token %}

            <div class="input-group password-group">
                <label for="id_old_password">Current Password</label>
                <div class="password-wrapper">
                    <input type="password" name="old_password" id="id_old_password" placeholder="Enter your current password" required>
                    <span class="toggle-password" onclick="togglePassword('id_old_password')">👁️</span>
                </div>
            </div>

            <div class="input-group password-group">
                <label for="id_new_password1">New Password</label>
                <div class="password-wrapper">
                    <input type="password" name="new_password1" id="id_new_password1" placeholder="Enter a new strong password" required>
                    <span class="toggle-password" onclick="togglePassword('id_new_password1')">👁️</span>
                </div>
                <small>Passwords must be at least 8 characters long.</small>
            </div>

            <div class="input-group password-group">
                <label for="id_new_password2">Confirm New Password</label>
                <div class="password-wrapper">
                    <input type="password" name="new_password2" id="id_new_password2" placeholder="Re-enter new password" required>
                    <span class="toggle-password" onclick="togglePassword('id_new_password2')">👁️</span>
                </div>
                <small id="password-error" class="error-text"></small>
            </div>

            <button type="submit" class="change-btn">Change Password</button>
        </form>

        <footer class="change-footer">
            <a href="#">Terms of Service</a> · <a href="#">Privacy</a> · <a href="#">Help</a>
            <p>© 2025 ShareBooks.</p>
        </footer>
    </div>

    <script defer src="{% static 'js/users/password_change.js' %}"></script>
{% endblock %}